# 📋 ProcureAI 服务检查清单

## ✅ 启动检查步骤

### 1. 检查后端服务

打开浏览器访问：http://localhost:3001/api

**期望结果：**
```json
{
  "name": "ProcureAI Backend API",
  "version": "1.0.0",
  "status": "running",
  "endpoints": {
    "auth": "/api/auth",
    "conversations": "/api/conversations",
    "chat": "/api/chat",
    "imageSearch": "/api/image-search",
    "admin": "/api/admin"
  }
}
```

**如果看到错误或无法访问：**
- 确保后端终端没有报错
- 检查 MongoDB 是否正在运行
- 查看后端终端的错误信息

### 2. 检查前端服务

打开浏览器访问：http://localhost:5173

**期望结果：**
- 看到首页，显示"AI采购助手"
- 有两个大按钮："随心采购" 和 "规范采购"

**如果看到错误或无法访问：**
- 确保前端终端显示 "Local: http://localhost:5173/"
- 查看前端终端的错误信息

### 3. 检查终端状态

**后端终端应该显示：**
```
🚀 Server running at http://localhost:3001
📚 API Documentation: http://localhost:3001/api
```

**前端终端应该显示：**
```
➜  Local:   http://localhost:5173/
➜  Network: use --host to expose
```

## 🧪 功能测试清单

### 测试 1: 用户注册

1. 访问 http://localhost:5173
2. 点击右上角"登录"
3. 点击"立即注册"
4. 填写信息：
   - 用户名：test
   - 邮箱：test@example.com
   - 密码：123456
5. 点击"注册"

**期望结果：**
- 注册成功，自动登录
- 返回首页，显示用户名

### 测试 2: 随心采购（无需登录）

1. 点击首页"随心采购"
2. 输入："帮我找一个好用的鼠标"
3. 点击发送

**期望结果：**
- AI 开始回复（流式输出）
- 显示打字机效果

### 测试 3: 规范采购（需要登录）

1. 登录后点击首页"规范采购"
2. 选择"需求澄清"标签
3. 输入："我需要采购100台笔记本电脑用于公司办公"
4. 点击发送

**期望结果：**
- AI 返回需求清单
- 提取关键要素

### 测试 4: 图片找同款（需要登录）

1. 登录后点击侧边栏"图片找同款"
2. 上传一张商品图片
3. 点击"开始搜索"

**期望结果：**
- 显示搜索结果
- 列出相似商品（使用 mock 数据）

### 测试 5: 管理员后台

1. 使用管理员账号登录：
   - 邮箱：admin@procureai.com
   - 密码：admin123
2. 点击侧边栏"管理后台"

**期望结果：**
- 进入管理界面
- 看到统计数据（用户数、会话数等）
- 可以查看用户列表

## 🐛 常见问题排查

### 问题 1: 后端无法连接数据库

**错误信息：**
```
MongoServerError: connect ECONNREFUSED 127.0.0.1:27017
```

**解决方案：**
1. 确保 MongoDB 服务正在运行
2. 或使用 MongoDB Atlas（云数据库）
3. 修改 `backend/.env` 中的 `MONGODB_URI`

### 问题 2: 前端无法连接后端

**错误信息：**
```
Network Error / 502 Bad Gateway
```

**解决方案：**
1. 确保后端正在运行
2. 检查 `.env.local` 中的 `VITE_API_URL`
3. 应该是 `http://localhost:3001/api`

### 问题 3: Dify API 调用失败

**错误信息：**
```
API Error: 401 - Unauthorized
```

**解决方案：**
1. 检查 `backend/.env` 中的 API Keys
2. 确认 API Keys 正确
3. 测试 API Key 是否有效

### 问题 4: 图片搜索失败

**解决方案：**
- 当前使用 mock 数据，可能返回固定的测试结果
- 这是正常的，用于演示功能
- 生产环境需要集成真实 API

## 📊 性能检查

### 前端性能

1. 打开浏览器开发者工具（F12）
2. 切换到"Performance"标签
3. 刷新页面
4. 检查加载时间

**期望：**
- 首屏加载 < 2秒
- 交互响应 < 100ms

### 后端性能

查看终端响应时间，API 响应应该：
- GET 请求 < 100ms
- POST 请求 < 500ms

## 🔍 日志查看

### 前端日志

在浏览器控制台（F12 → Console）查看：
- 网络请求
- 错误信息
- 警告信息

### 后端日志

在后端终端查看：
- API 请求日志
- 错误堆栈
- 调试信息

## 📝 下一步

服务启动成功后，您可以：

1. **体验功能**
   - 测试各个功能模块
   - 创建对话
   - 上传文件

2. **查看文档**
   - 详细功能说明见 `README_FULL.md`
   - 快速参考见 `QUICKSTART.md`

3. **自定义配置**
   - 修改 `backend/.env` 配置数据库和 API
   - 修改前端样式和文案

4. **扩展功能**
   - 集成真实图片搜索 API
   - 添加支付功能
   - 部署到生产环境

---

**需要帮助？**
- 查看 `README_FULL.md` 获取详细文档
- 检查终端错误信息
- 根据问题类型参考上面的解决方案
