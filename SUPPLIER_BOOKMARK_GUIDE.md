# ä¾›åº”å•†æ”¶è—åŠŸèƒ½æµ‹è¯•æŒ‡å—

## åŠŸèƒ½è¯´æ˜

å½“AIå›å¤åŒ…å«ä¾›åº”å•†ä¿¡æ¯æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹å¹¶æ˜¾ç¤ºä¾›åº”å•†æ”¶è—å¡ç‰‡ï¼Œç”¨æˆ·å¯ä»¥ç‚¹å‡»æ”¶è—æŒ‰é’®å°†ä¾›åº”å•†ä¿¡æ¯ä¿å­˜åˆ°æ”¶è—å¤¹ã€‚

## è§¦å‘æ¡ä»¶

æ”¶è—æŒ‰é’®çš„æ˜¾ç¤ºéœ€è¦åŒæ—¶æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ï¼š

1. **å…³é”®è¯åŒ¹é…**ï¼šAIå›å¤å†…å®¹å¿…é¡»åŒ…å«ä»¥ä¸‹ä»»ä¸€å…³é”®è¯ï¼š
   - ä¾›åº”å•†
   - æ¨è
   - å…¬å¸
   - ä¼ä¸š
   - manufacturer
   - supplier

2. **æ•°æ®è§£ææˆåŠŸ**ï¼šç³»ç»Ÿèƒ½å¤Ÿä»å†…å®¹ä¸­è§£æå‡ºç»“æ„åŒ–çš„ä¾›åº”å•†æ•°æ®

## æ”¯æŒçš„AIå›å¤æ ¼å¼

### æ ¼å¼1ï¼šJSONæ•°ç»„æ ¼å¼
```json
æ¨èä»¥ä¸‹ä¾›åº”å•†ï¼š
[
  {
    "name": "XXç§‘æŠ€æœ‰é™å…¬å¸",
    "foundedDate": "2010å¹´",
    "businessDirection": "è½¯ä»¶å¼€å‘,ç³»ç»Ÿé›†æˆ,äº‘è®¡ç®—",
    "contactInfo": {
      "person": "å¼ ä¸‰",
      "phone": "13800138000",
      "email": "zhangsan@example.com"
    }
  }
]
```

### æ ¼å¼2ï¼šMarkdownè¡¨æ ¼æ ¼å¼
```markdown
æˆ‘ä¸ºæ‚¨æ¨èä»¥ä¸‹ä¾›åº”å•†ï¼š

| ä¾›åº”å•†åç§° | ä¸šåŠ¡æ–¹å‘ | è”ç³»äºº | ç”µè¯ |
|-----------|---------|--------|------|
| XXç§‘æŠ€å…¬å¸ | è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆ | å¼ ä¸‰ | 13800138000 |
| YYä¼ä¸šé›†å›¢ | ç¡¬ä»¶åˆ¶é€  | æå›› | 13900139000 |
```

### æ ¼å¼3ï¼šMarkdownåˆ—è¡¨æ ¼å¼
```markdown
æ¨èä¾›åº”å•†ä¿¡æ¯ï¼š

1. ä¾›åº”å•†åç§°ï¼šXXç§‘æŠ€å…¬å¸
   æˆç«‹æ—¶é—´ï¼š2010å¹´
   ä¸šåŠ¡æ–¹å‘ï¼šè½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆ
   è”ç³»äººï¼šå¼ ä¸‰
   ç”µè¯ï¼š13800138000

2. ä¾›åº”å•†åç§°ï¼šYYä¼ä¸šé›†å›¢
   æˆç«‹æ—¶é—´ï¼š2008å¹´
   ä¸šåŠ¡æ–¹å‘ï¼šç¡¬ä»¶åˆ¶é€ 
   è”ç³»äººï¼šæå››
```

### æ ¼å¼4ï¼šè‡ªç„¶è¯­è¨€æè¿°æ ¼å¼
```markdown
æ ¹æ®æ‚¨çš„éœ€æ±‚ï¼Œæˆ‘æ¨èä»¥ä¸‹ä¾›åº”å•†ï¼š

æ¨èä¾›åº”å•†ï¼šXXç§‘æŠ€å…¬å¸ï¼Œæˆç«‹äº2010å¹´ï¼Œä¸»è¥ä¸šåŠ¡åŒ…æ‹¬è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆå’Œäº‘è®¡ç®—æœåŠ¡ã€‚
è”ç³»æ–¹å¼ï¼šå¼ ä¸‰ï¼Œç”µè¯13800138000ï¼Œé‚®ç®±zhangsan@example.comã€‚

å¦å¤–è¿˜æœ‰YYä¼ä¸šé›†å›¢ï¼Œè¿™æ˜¯ä¸€å®¶ä¸“ä¸šçš„ç¡¬ä»¶åˆ¶é€ å•†ï¼Œæˆç«‹äº2008å¹´ã€‚
```

## æ”¶è—æŒ‰é’®æ˜¾ç¤ºæ•ˆæœ

å½“AIå›å¤åŒ…å«ä¾›åº”å•†ä¿¡æ¯æ—¶ï¼Œä¼šåœ¨æ¶ˆæ¯ä¸‹æ–¹æ˜¾ç¤ºï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ XXç§‘æŠ€å…¬å¸                          [å±•å¼€ â–¼] â”‚
â”‚    è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆã€äº‘è®¡ç®—                      â”‚
â”‚                            [æ”¶è—åˆ°ä¾›åº”å•†å¤¹] ğŸ“Œ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡»"å±•å¼€"æŒ‰é’®åæ˜¾ç¤ºï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¦ XXç§‘æŠ€å…¬å¸                          [æ”¶èµ· â–²] â”‚
â”‚    è½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆã€äº‘è®¡ç®—                      â”‚
â”‚                                                 â”‚
â”‚ åŸºæœ¬ä¿¡æ¯ï¼š                                      â”‚
â”‚ â€¢ æˆç«‹æ—¶é—´ï¼š2010å¹´                              â”‚
â”‚ â€¢ ä¸šåŠ¡æ–¹å‘ï¼šè½¯ä»¶å¼€å‘ã€ç³»ç»Ÿé›†æˆã€äº‘è®¡ç®—             â”‚
â”‚                                                 â”‚
â”‚ è”ç³»æ–¹å¼ï¼š                                      â”‚
â”‚ â€¢ è”ç³»äººï¼šå¼ ä¸‰                                  â”‚
â”‚ â€¢ ç”µè¯ï¼š13800138000                            â”‚
â”‚ â€¢ é‚®ç®±ï¼šzhangsan@example.com                    â”‚
â”‚                                                 â”‚
â”‚                     [æ”¶è—åˆ°ä¾›åº”å•†å¤¹] ğŸ“Œ         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æµ‹è¯•æ­¥éª¤

### æ­¥éª¤1ï¼šå‘AIæé—®
åœ¨èŠå¤©ç•Œé¢è¾“å…¥ä»¥ä¸‹é—®é¢˜ä¹‹ä¸€ï¼š
- "è¯·æ¨èä¸€äº›è½¯ä»¶å¼€å‘çš„ä¾›åº”å•†"
- "å¸®æˆ‘æ‰¾å‡ å®¶åšäº‘è®¡ç®—çš„å…¬å¸"
- "æœ‰å“ªäº›ä¾›åº”å•†å¯ä»¥æä¾›ç³»ç»Ÿé›†æˆæœåŠ¡ï¼Ÿ"

### æ­¥éª¤2ï¼šæŸ¥çœ‹AIå›å¤
AIä¼šå›å¤åŒ…å«ä¾›åº”å•†ä¿¡æ¯çš„å†…å®¹

### æ­¥éª¤3ï¼šç¡®è®¤æ”¶è—å¡ç‰‡æ˜¾ç¤º
åœ¨AIå›å¤ä¸‹æ–¹åº”è¯¥è‡ªåŠ¨æ˜¾ç¤ºä¾›åº”å•†æ”¶è—å¡ç‰‡

### æ­¥éª¤4ï¼šç‚¹å‡»æ”¶è—
ç‚¹å‡»"æ”¶è—åˆ°ä¾›åº”å•†å¤¹"æŒ‰é’®

### æ­¥éª¤5ï¼šæŸ¥çœ‹æˆåŠŸæç¤º
å³ä¸Šè§’ä¼šæ˜¾ç¤º"ä¾›åº”å•†å·²æ·»åŠ åˆ°æ”¶è—å¤¹"çš„æç¤º

### æ­¥éª¤6ï¼šæŸ¥çœ‹æ”¶è—å¤¹
ç‚¹å‡»ä¾§è¾¹æ çš„"ä¾›åº”å•†æ”¶è—å¤¹"æŸ¥çœ‹å·²æ”¶è—çš„ä¾›åº”å•†

## å¸¸è§é—®é¢˜

### Q1: æ”¶è—æŒ‰é’®æ²¡æœ‰æ˜¾ç¤ºï¼Ÿ

**å¯èƒ½åŸå› 1ï¼š** AIå›å¤å†…å®¹æ²¡æœ‰åŒ…å«å…³é”®è¯
- **è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿AIå›å¤åŒ…å«"ä¾›åº”å•†"ã€"å…¬å¸"ã€"ä¼ä¸š"ç­‰å…³é”®è¯

**å¯èƒ½åŸå› 2ï¼š** ä¾›åº”å•†ä¿¡æ¯æ ¼å¼æ— æ³•è¢«è§£æ
- **è§£å†³æ–¹æ¡ˆï¼š** ä½¿ç”¨ä¸Šè¿°æ”¯æŒçš„æ ¼å¼ä¹‹ä¸€

**å¯èƒ½åŸå› 3ï¼š** ä¾›åº”å•†åç§°ç¼ºå¤±
- **è§£å†³æ–¹æ¡ˆï¼š** ç¡®ä¿æ¯ä¸ªä¾›åº”å•†éƒ½æœ‰æ˜ç¡®çš„åç§°

### Q2: ç‚¹å‡»æ”¶è—åæŠ¥é”™ï¼Ÿ

**å¯èƒ½åŸå› ï¼š** åç«¯æœåŠ¡æœªå¯åŠ¨æˆ–APIé”™è¯¯
- **è§£å†³æ–¹æ¡ˆï¼š**
  1. æ£€æŸ¥åç«¯æ˜¯å¦æ­£å¸¸è¿è¡Œï¼ˆhttp://localhost:3001ï¼‰
  2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
  3. ç¡®è®¤ç”¨æˆ·å·²ç™»å½•

### Q3: æ”¶è—æˆåŠŸä½†æ”¶è—å¤¹çœ‹ä¸åˆ°ï¼Ÿ

**å¯èƒ½åŸå› ï¼š** æ•°æ®ä¿å­˜å¤±è´¥æˆ–æœªåˆ·æ–°
- **è§£å†³æ–¹æ¡ˆï¼š**
  1. åˆ·æ–°é¡µé¢
  2. æ£€æŸ¥åç«¯æ•°æ®åº“
  3. æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚

## æŠ€æœ¯å®ç°ç»†èŠ‚

### æ£€æµ‹é€»è¾‘
```typescript
// containsSupplierInfo å‡½æ•°
export const containsSupplierInfo = (content: string): boolean => {
  const keywords = ['ä¾›åº”å•†', 'æ¨è', 'å…¬å¸', 'ä¼ä¸š', 'manufacturer', 'supplier'];

  return keywords.some(keyword => content.includes(keyword)) &&
         parseSuppliersFromContent(content).length > 0;
};
```

### æ¸²æŸ“é€»è¾‘
```typescript
// ChatArea.tsx ä¸­çš„æ¸²æŸ“ä»£ç 
{msg.role === 'assistant' && !msg.isTyping && containsSupplierInfo(msg.content) && (
  <div className="mt-3 w-full">
    {renderSupplierBookmarks(msg.content, conversationId, () => {})}
  </div>
)}
```

### æ•°æ®æµç¨‹
```
AIå›å¤ â†’ containsSupplierInfoæ£€æµ‹ â†’ renderSupplierBookmarksæ¸²æŸ“
  â†“
ç”¨æˆ·ç‚¹å‡»æ”¶è— â†’ supplierAPI.create â†’ ä¿å­˜åˆ°MongoDB
  â†“
æ˜¾ç¤ºæˆåŠŸæç¤º â†’ æ›´æ–°æ”¶è—å¤¹é¡µé¢
```

## APIæ¥å£

### åˆ›å»ºä¾›åº”å•†
```http
POST /api/suppliers
Content-Type: application/json

{
  "name": "ä¾›åº”å•†åç§°",
  "foundedDate": "2010å¹´",
  "businessDirection": ["è½¯ä»¶å¼€å‘", "ç³»ç»Ÿé›†æˆ"],
  "contactInfo": {
    "person": "å¼ ä¸‰",
    "phone": "13800138000",
    "email": "zhangsan@example.com"
  },
  "source": "ai",
  "priority": "medium"
}
```

### è·å–ä¾›åº”å•†åˆ—è¡¨
```http
GET /api/suppliers?page=1&limit=20&search=å…³é”®è¯&status=active
```

## ç›¸å…³æ–‡ä»¶

- **å‰ç«¯ç»„ä»¶ï¼š**
  - `components/SupplierBookmarkButton.tsx` - æ”¶è—æŒ‰é’®ç»„ä»¶
  - `components/SupplierFavorites.tsx` - æ”¶è—å¤¹é¡µé¢
  - `components/ChatArea.tsx` - èŠå¤©åŒºåŸŸï¼ˆé›†æˆæ”¶è—æŒ‰é’®ï¼‰
  - `utils/supplierParser.tsx` - ä¾›åº”å•†ä¿¡æ¯è§£æå™¨

- **åç«¯æ¥å£ï¼š**
  - `backend/src/routes/suppliers.js` - ä¾›åº”å•†APIè·¯ç”±
  - `backend/src/models/Supplier.js` - ä¾›åº”å•†æ•°æ®æ¨¡å‹

- **ç±»å‹å®šä¹‰ï¼š**
  - `types.ts` - TypeScriptç±»å‹å®šä¹‰
  - `services/api.js` - APIæœåŠ¡å±‚
