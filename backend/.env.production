# MongoDB Network Service User - 生产环境配置
# 请根据实际情况修改以下配置

# ========================================
# Server Configuration
# ========================================
PORT=3001
NODE_ENV=production

# ========================================
# Database Configuration
# ========================================
# 方式一：本地访问（推荐，更安全）
# 数据库只允许本地访问，通过后端 API 访问
MONGODB_URI=mongodb://admin:StrongPassword123!@#127.0.0.1:27017/procureai?authSource=admin

# 方式二：允许外部访问（不推荐，仅在需要时使用）
# 如果需要外部直接访问数据库，使用以下配置：
# MONGODB_URI=mongodb://admin:StrongPassword123!@#@YOUR_PUBLIC_IP:27017/procureai?authSource=admin

# 方式三：使用 MongoDB Atlas（云数据库，推荐）
# MONGODB_URI=mongodb+srv://admin:YOUR_PASSWORD@cluster0.xxxxx.mongodb.net/procureai?retryWrites=true&w=majority

# ========================================
# JWT Configuration
# ========================================
# 生产环境请使用强密钥（通过以下命令生成：openssl rand -base64 64）
JWT_SECRET=CHANGE_THIS_TO_A_VERY_STRONG_SECRET_MIN_32_CHARACTERS_LONG
JWT_EXPIRE=7d

# ========================================
# Dify API Configuration
# ========================================
DIFY_API_BASE=https://api.dify.ai/v1
DIFY_API_KEY_CASUAL=app-ay5UT5TnYR83d2guU5enM4oG
DIFY_API_KEY_KEYWORD=app-SgyXcIw7mNIKb5vt9MzTBJ5O
DIFY_API_KEY_DOCGEN=app-F7Xn0o7BeFH0FjZ6jsZnEMxp
DIFY_API_KEY_SUPPLIER=app-0yoM8NhLhSYv7JDxnmly4G0l
DIFY_API_KEY_PRICE=app-dMXx5Pz90hBDhCBzXIfcS1EJ

# ========================================
# CORS Configuration
# ========================================
# 开发环境：
# CORS_ORIGIN=http://localhost:5173

# 生产环境（替换为实际域名）：
# CORS_ORIGIN=https://your-domain.com
# 或者允许多个域名：
# CORS_ORIGIN=https://your-domain.com,https://www.your-domain.com

# 临时允许所有（不推荐生产环境）：
CORS_ORIGIN=http://localhost:5173,http://127.0.0.1:5173

# ========================================
# Admin Configuration
# ========================================
ADMIN_EMAIL=admin@procureai.com
ADMIN_PASSWORD=admin123

# ========================================
# File Upload Configuration
# ========================================
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads

# ========================================
# Security Settings
# ========================================
# 启用 HTTPS（生产环境推荐）
# 如果使用反向代理（如 Nginx），设置为 true
# TRUST_PROXY=true

# Session 配置
SESSION_SECRET=ANOTHER_STRONG_SECRET_FOR_SESSIONS

# ========================================
# Logging Configuration
# ========================================
# 日志级别：error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# 日志文件路径
# LOG_FILE=logs/app.log

# ========================================
# Rate Limiting
# ========================================
# 请求速率限制（15 分钟内最多 100 个请求）
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ========================================
# Email Configuration (可选）
# ========================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=noreply@your-domain.com

# ========================================
# Backup Configuration
# ========================================
# 自动备份间隔（毫秒）
# BACKUP_INTERVAL=86400000  # 24 小时

# 备份保留天数
# BACKUP_RETENTION_DAYS=7
